{"ast":null,"code":"var _jsxFileName = \"/home/tatyana/websockets.final/websockets/src/pages/Chat/Chat.jsx\";\nimport React from 'react';\nimport './Chat.css';\nimport Message from './components/Message';\nimport io from 'socket.io-client';\nconst socket = io.connect('http://localhost:3001', {\n  transports: ['websocket']\n}); // function Chat() {\n//   const [name, setName] = React.useState('');\n//   const [nameUser, setNameUser] = React.useState('');\n//   const [msg, setMsg] = React.useState('');\n//   const [msgUser, setMsgUser] = React.useState('');\n//   const [massMess, setMassMsg] = React.useState([])\n// let namename = ''\n//   const changeUserMsg = () => {\n//     const msgs = {\n//       username: nameUser,\n//       message: msg,\n//     };\n//     setMassMsg((massMess) => [...massMess, msgs]);\n//     socket.emit('sendMessage', msgs);\n//   };\n//     React.useEffect(() => {\n//     socket.on('getMessage', (msgs)=>{\n//       setMassMsg((massMess) => [...massMess, msgs]);\n//              })\n//     }, []);\n//    const changeUserName = () =>{\n//     setNameUser(namename);\n//   }\n//   //  changeUserMsg = () =>{\n//   //   setMsgUser(msg);\n//   //   socket.emit('sendMessage', {nameUser,msgUser});\n//   //   socket.on('getMessage', (msgUser)=>{\n//   //     setMassMsg(updateMessage=[...msgUser])\n//   //   });\n//   // }\n//   return (\n//     <div className=\"chat\">\n//       <header>\n//         <h1>Super Chat</h1>\n//       </header>\n//       <section>\n//         <div id=\"change_username\">\n//           <input \n//            id = \"username\"\n//            type = \"text\"\n//            name='message'\n//           //  onChange = {(e)=> {setName(e.target.value)}}\n//           //  value= {name}\n//             onChange = {(e)=> {namename = e.target.value}}\n//            />\n//           <button id = \"send_username\" type = \"button\" onClick = {changeUserName}>Change name</button>\n//         </div>\n//       </section>\n//       <section id=\"chatroom\">\n// {      massMess.map((item)=>\n//   <Message username={item.name} message={item.msg} />\n// ) }       \n//         <section id=\"feedback\"></section>\n//       </section> \n//       <section id=\"input_zone\">\n//         <input id=\"message\" className=\"vertical-align\" type=\"text\"   value= {msg}  onChange = {(e)=> {setMsg(e.target.value)}}/>\n//         <button id=\"send_message\" className=\"vertical-align\" type=\"button\" onClick = {changeUserMsg}>Send</button>\n//       </section>\n//     </div>\n//   );\n// }\n// export default Chat;\n\nfunction Chat() {\n  const [username, setUsername] = React.useState('Tanya');\n  const [messages, setMessages] = React.useState([]);\n  const [inputMessage, setInputMessage] = React.useState('');\n  let name = '';\n\n  const sendMessage = () => {\n    const msg = {\n      message: inputMessage,\n      username\n    };\n    setMessages(messages => [...messages, msg]);\n    socket.emit('sendMessage', msg);\n    setInputMessage('');\n  };\n\n  React.useEffect(() => {\n    ioClient.on('getMessage', msg => {\n      setMessages(messages => [...messages, msg]);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \"Super Chat\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"change_username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    name: \"message\",\n    onChange: e => name = e.target.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"send_username\",\n    type: \"button\",\n    onClick: () => setUsername(name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"Change username\"))), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"chatroom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, messages.map(message => /*#__PURE__*/React.createElement(Message, {\n    username: message.username,\n    message: message.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"input_zone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"message\",\n    className: \"vertical-align\",\n    type: \"text\",\n    onChange: e => setInputMessage(e.target.value),\n    value: inputMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"send_message\",\n    className: \"vertical-align\",\n    type: \"button\",\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \"Send\")));\n}\n\nexport default Chat;","map":{"version":3,"sources":["/home/tatyana/websockets.final/websockets/src/pages/Chat/Chat.jsx"],"names":["React","Message","io","socket","connect","transports","Chat","username","setUsername","useState","messages","setMessages","inputMessage","setInputMessage","name","sendMessage","msg","message","emit","useEffect","ioClient","on","e","target","value","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Chat.css';\nimport Message from './components/Message';\nimport io from 'socket.io-client';\n\nconst socket = io.connect('http://localhost:3001', { transports: ['websocket'] });\n\n// function Chat() {\n//   const [name, setName] = React.useState('');\n//   const [nameUser, setNameUser] = React.useState('');\n//   const [msg, setMsg] = React.useState('');\n//   const [msgUser, setMsgUser] = React.useState('');\n//   const [massMess, setMassMsg] = React.useState([])\n// let namename = ''\n//   const changeUserMsg = () => {\n//     const msgs = {\n//       username: nameUser,\n//       message: msg,\n//     };\n//     setMassMsg((massMess) => [...massMess, msgs]);\n//     socket.emit('sendMessage', msgs);\n//   };\n\n//     React.useEffect(() => {\n//     socket.on('getMessage', (msgs)=>{\n//       setMassMsg((massMess) => [...massMess, msgs]);\n//              })\n//     }, []);\n\n//    const changeUserName = () =>{\n//     setNameUser(namename);\n//   }\n\n//   //  changeUserMsg = () =>{\n//   //   setMsgUser(msg);\n//   //   socket.emit('sendMessage', {nameUser,msgUser});\n//   //   socket.on('getMessage', (msgUser)=>{\n//   //     setMassMsg(updateMessage=[...msgUser])\n//   //   });\n//   // }\n  \n//   return (\n//     <div className=\"chat\">\n//       <header>\n//         <h1>Super Chat</h1>\n//       </header>\n//       <section>\n//         <div id=\"change_username\">\n//           <input \n//            id = \"username\"\n//            type = \"text\"\n//            name='message'\n//           //  onChange = {(e)=> {setName(e.target.value)}}\n//           //  value= {name}\n//             onChange = {(e)=> {namename = e.target.value}}\n//            />\n//           <button id = \"send_username\" type = \"button\" onClick = {changeUserName}>Change name</button>\n//         </div>\n//       </section>\n\n//       <section id=\"chatroom\">\n\n// {      massMess.map((item)=>\n//   <Message username={item.name} message={item.msg} />\n// ) }       \n//         <section id=\"feedback\"></section>\n//       </section> \n//       <section id=\"input_zone\">\n//         <input id=\"message\" className=\"vertical-align\" type=\"text\"   value= {msg}  onChange = {(e)=> {setMsg(e.target.value)}}/>\n//         <button id=\"send_message\" className=\"vertical-align\" type=\"button\" onClick = {changeUserMsg}>Send</button>\n//       </section>\n//     </div>\n//   );\n// }\n\n// export default Chat;\n\n\n\n\n\n\n\nfunction Chat() {\n  const [username, setUsername] = React.useState('Tanya');\n  const [messages, setMessages] = React.useState([]);\n  const [inputMessage, setInputMessage] = React.useState('');\n\n  let name = '';\n\n  const sendMessage = () => {\n    const msg = {\n      message: inputMessage,\n      username\n    };\n    setMessages((messages) => [...messages, msg]);\n    socket.emit('sendMessage', msg);\n    setInputMessage('');\n  };\n\n  React.useEffect(() => {\n    ioClient.on('getMessage', (msg) => {\n      setMessages((messages) => [...messages, msg]);\n    }\n  );\n  }, []);\n\n  return (\n    <div className=\"chat\">\n      <header>\n        <h1>Super Chat</h1>\n      </header>\n\n      <section>\n        <div id=\"change_username\">\n          <input \n            id=\"username\" \n            type=\"text\" \n            name='message'\n            onChange={(e) => name = e.target.value}\n\n          />\n          <button \n            id=\"send_username\" \n            type=\"button\"\n            onClick={() => setUsername(name)}\n           >\n            Change username\n          </button>\n        </div>\n      </section>\n\n      <section id=\"chatroom\">\n        {\n          messages.map((message) => (\n            <Message username={message.username} message={message.message} />\n          ))\n        }\n\n      </section>\n      <section id=\"input_zone\">\n        <input \n          id=\"message\" \n          className=\"vertical-align\" \n          type=\"text\"\n          onChange={(e) => setInputMessage(e.target.value)}\n          value={inputMessage}\n        />\n        <button \n          id=\"send_message\" \n          className=\"vertical-align\" \n          type=\"button\"\n          onClick={sendMessage}\n        >\n          Send</button>\n      </section>\n    </div>\n  );\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}