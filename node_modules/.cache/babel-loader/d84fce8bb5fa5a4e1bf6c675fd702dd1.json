{"ast":null,"code":"var _jsxFileName = \"/home/tatyana/websockets.final/websockets/src/pages/Chat/Chat.jsx\";\n// import React from 'react';\n// import './Chat.css';\n// import Message from './components/Message';\n// import io from 'socket.io-client';\n// const socket = io.connect('http://localhost:3001', { transports: ['websocket'] });\n// function Chat() {\n//   const [name, setName] = React.useState('');\n//   const [nameUser, setNameUser] = React.useState('');\n//   const [msg, setMsg] = React.useState('');\n//   const [msgUser, setMsgUser] = React.useState('');\n//   const [massMess, setMassMsg] = React.useState([])\n// let namename = ''\n//   const changeUserMsg = () => {\n//     const msgs = {\n//       username: nameUser,\n//       message: msg,\n//     };\n//     setMassMsg((massMess) => [...massMess, msgs]);\n//     socket.emit('sendMessage', msgs);\n//   };\n//     React.useEffect(() => {\n//     socket.on('getMessage', (msgs)=>{\n//       setMassMsg((massMess) => [...massMess, msgs]);\n//              })\n//     }, []);\n//    const changeUserName = () =>{\n//     setNameUser(namename);\n//   }\n//   //  changeUserMsg = () =>{\n//   //   setMsgUser(msg);\n//   //   socket.emit('sendMessage', {nameUser,msgUser});\n//   //   socket.on('getMessage', (msgUser)=>{\n//   //     setMassMsg(updateMessage=[...msgUser])\n//   //   });\n//   // }\n//   return (\n//     <div className=\"chat\">\n//       <header>\n//         <h1>Super Chat</h1>\n//       </header>\n//       <section>\n//         <div id=\"change_username\">\n//           <input \n//            id = \"username\"\n//            type = \"text\"\n//            name='message'\n//           //  onChange = {(e)=> {setName(e.target.value)}}\n//           //  value= {name}\n//             onChange = {(e)=> {namename = e.target.value}}\n//            />\n//           <button id = \"send_username\" type = \"button\" onClick = {changeUserName}>Change name</button>\n//         </div>\n//       </section>\n//       <section id=\"chatroom\">\n// {      massMess.map((item)=>\n//   <Message username={item.name} message={item.msg} />\n// ) }       \n//         <section id=\"feedback\"></section>\n//       </section> \n//       <section id=\"input_zone\">\n//         <input id=\"message\" className=\"vertical-align\" type=\"text\"   value= {msg}  onChange = {(e)=> {setMsg(e.target.value)}}/>\n//         <button id=\"send_message\" className=\"vertical-align\" type=\"button\" onClick = {changeUserMsg}>Send</button>\n//       </section>\n//     </div>\n//   );\n// }\n// export default Chat;\nimport React, { useState } from 'react';\nimport './Chat.css';\nimport Message from './components/Message';\n\nconst io = require(\"socket.io-client\");\n\nconst ioClient = io.connect(\"http://localhost:3031\");\n\nfunction Chat() {\n  const [username, setUsername] = useState('Tanya');\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  let name = 'Anonymous';\n\n  const sendMessage = () => {\n    const msg = {\n      message: inputMessage,\n      username\n    };\n    setMessages(messages => [...messages, msg]);\n    ioClient.emit('send-message', msg);\n    setInputMessage('');\n  };\n\n  React.useEffect(() => {\n    ioClient.on('get-message', msg => {\n      setMessages(messages => [...messages, msg]);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, \"Super Chat\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"change_username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    name: \"message\",\n    onChange: e => name = e.target.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"send_username\",\n    type: \"button\",\n    onClick: () => setUsername(name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, \"Change username\"))), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"chatroom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, messages.map(message => /*#__PURE__*/React.createElement(Message, {\n    username: message.username,\n    message: message.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"input_zone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"message\",\n    className: \"vertical-align\",\n    type: \"text\",\n    onChange: e => setInputMessage(e.target.value),\n    value: inputMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"send_message\",\n    className: \"vertical-align\",\n    type: \"button\",\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, \"Send\")));\n}\n\nexport default Chat;","map":{"version":3,"sources":["/home/tatyana/websockets.final/websockets/src/pages/Chat/Chat.jsx"],"names":["React","useState","Message","io","require","ioClient","connect","Chat","username","setUsername","messages","setMessages","inputMessage","setInputMessage","name","sendMessage","msg","message","emit","useEffect","on","e","target","value","map"],"mappings":"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","sourcesContent":["// import React from 'react';\n// import './Chat.css';\n// import Message from './components/Message';\n// import io from 'socket.io-client';\n\n// const socket = io.connect('http://localhost:3001', { transports: ['websocket'] });\n\n// function Chat() {\n//   const [name, setName] = React.useState('');\n//   const [nameUser, setNameUser] = React.useState('');\n//   const [msg, setMsg] = React.useState('');\n//   const [msgUser, setMsgUser] = React.useState('');\n//   const [massMess, setMassMsg] = React.useState([])\n// let namename = ''\n//   const changeUserMsg = () => {\n//     const msgs = {\n//       username: nameUser,\n//       message: msg,\n//     };\n//     setMassMsg((massMess) => [...massMess, msgs]);\n//     socket.emit('sendMessage', msgs);\n//   };\n\n//     React.useEffect(() => {\n//     socket.on('getMessage', (msgs)=>{\n//       setMassMsg((massMess) => [...massMess, msgs]);\n//              })\n//     }, []);\n\n//    const changeUserName = () =>{\n//     setNameUser(namename);\n//   }\n\n//   //  changeUserMsg = () =>{\n//   //   setMsgUser(msg);\n//   //   socket.emit('sendMessage', {nameUser,msgUser});\n//   //   socket.on('getMessage', (msgUser)=>{\n//   //     setMassMsg(updateMessage=[...msgUser])\n//   //   });\n//   // }\n  \n//   return (\n//     <div className=\"chat\">\n//       <header>\n//         <h1>Super Chat</h1>\n//       </header>\n//       <section>\n//         <div id=\"change_username\">\n//           <input \n//            id = \"username\"\n//            type = \"text\"\n//            name='message'\n//           //  onChange = {(e)=> {setName(e.target.value)}}\n//           //  value= {name}\n//             onChange = {(e)=> {namename = e.target.value}}\n//            />\n//           <button id = \"send_username\" type = \"button\" onClick = {changeUserName}>Change name</button>\n//         </div>\n//       </section>\n\n//       <section id=\"chatroom\">\n\n// {      massMess.map((item)=>\n//   <Message username={item.name} message={item.msg} />\n// ) }       \n//         <section id=\"feedback\"></section>\n//       </section> \n//       <section id=\"input_zone\">\n//         <input id=\"message\" className=\"vertical-align\" type=\"text\"   value= {msg}  onChange = {(e)=> {setMsg(e.target.value)}}/>\n//         <button id=\"send_message\" className=\"vertical-align\" type=\"button\" onClick = {changeUserMsg}>Send</button>\n//       </section>\n//     </div>\n//   );\n// }\n\n// export default Chat;\n\n\nimport React, { useState } from 'react';\n\nimport './Chat.css';\nimport Message from './components/Message';\n\nconst io = require(\"socket.io-client\");\nconst ioClient = io.connect(\"http://localhost:3031\");\n\nfunction Chat() {\n  const [username, setUsername] = useState('Tanya');\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n\n  let name = 'Anonymous';\n\n  const sendMessage = () => {\n    const msg = {\n      message: inputMessage,\n      username\n    };\n    setMessages((messages) => [...messages, msg]);\n    ioClient.emit('send-message', msg);\n    setInputMessage('');\n  };\n\n  React.useEffect(() => {\n    ioClient.on('get-message', (msg) => {\n      setMessages((messages) => [...messages, msg]);\n    }\n  );\n  }, []);\n\n  return (\n    <div className=\"chat\">\n      <header>\n        <h1>Super Chat</h1>\n      </header>\n\n      <section>\n        <div id=\"change_username\">\n          <input \n            id=\"username\" \n            type=\"text\" \n            name='message'\n            onChange={(e) => name = e.target.value}\n\n          />\n          <button \n            id=\"send_username\" \n            type=\"button\"\n            onClick={() => setUsername(name)}\n           >\n            Change username\n          </button>\n        </div>\n      </section>\n\n      <section id=\"chatroom\">\n        {\n          messages.map((message) => (\n            <Message username={message.username} message={message.message} />\n          ))\n        }\n\n      </section>\n      <section id=\"input_zone\">\n        <input \n          id=\"message\" \n          className=\"vertical-align\" \n          type=\"text\"\n          onChange={(e) => setInputMessage(e.target.value)}\n          value={inputMessage}\n        />\n        <button \n          id=\"send_message\" \n          className=\"vertical-align\" \n          type=\"button\"\n          onClick={sendMessage}\n        >\n          Send</button>\n      </section>\n    </div>\n  );\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}